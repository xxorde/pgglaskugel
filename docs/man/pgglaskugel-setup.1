.TH "PGGLASKUGEL\-SETUP" "1" "Mar 2017" "pgGlaskugel 0.7" "pgGlaskugel Manual" 
.nh
.ad l


.SH NAME
.PP
pgglaskugel\-setup \- Setup PostgreSQL and needed directories.


.SH SYNOPSIS
.PP
\fBpgglaskugel setup\fP


.SH DESCRIPTION
.PP
This command makes all needed configuration changes via ALTER SYSTEM and creates missing folders. To operate, it needs a superuser connection (connection sting) and the path where the backups should go.


.SH OPTIONS
.PP
\fB\-\-archive\_command\fP=""
    The command to archive WAL files

.PP
\fB\-\-archive\_mode\fP="on"
    The archive mode (should be 'on' to archive)

.PP
\fB\-\-check\fP[=false]
    Perform only a dry run without doing changes

.PP
\fB\-\-max\_wal\_senders\fP="3"
    The max number of walsender processes

.PP
\fB\-\-wal\_level\fP="hot\_standby"
    The level of information to include in WAL files


.SH OPTIONS INHERITED FROM PARENT COMMANDS
.PP
\fB\-\-archive\_to\fP="file"
    WAL destination (file|s3)

.PP
\fB\-\-archivedir\fP="/var/lib/postgresql/backup/pgglaskugel"
    Dir where the backups

.PP
\fB\-\-backup\_to\fP="file"
    Backup destination (file|s3)

.PP
\fB\-\-cluster\_name\fP="kerrigan"
    Name of the cluster, used in backup name

.PP
\fB\-\-config\fP=""
    Config file

.PP
\fB\-\-connection\fP="host=/var/run/postgresql user=postgres dbname=postgres"
    Connection string to connect to the database

.PP
\fB\-\-debug\fP[=false]
    Enable debug mode to increase verbosity

.PP
\fB\-\-encrypt\fP[=false]
    Enable encryption for S3 storage

.PP
\fB\-j\fP, \fB\-\-jobs\fP=4
    The number of jobs to run parallel. default depends on cores

.PP
\fB\-\-json\fP[=false]
    Generate output as JSON

.PP
\fB\-\-path\_to\_basebackup\fP="/usr/bin/pg\_basebackup"
    Path to the basebackup command

.PP
\fB\-\-path\_to\_gpg\fP="/usr/bin/gpg"
    Path to the gpg command

.PP
\fB\-\-path\_to\_tar\fP="/bin/tar"
    Path to the tar command

.PP
\fB\-\-path\_to\_zstd\fP="/usr/bin/zstd"
    Path to the zstd command

.PP
\fB\-\-path\_to\_zstdcat\fP="/usr/bin/zstdcat"
    Path to the zstdcat command

.PP
\fB\-D\fP, \fB\-\-pgdata\fP="$PGDATA"
    Base directory of your PostgreSQL instance aka. pg\_data

.PP
\fB\-\-pgdata\-auto\fP[=true]
    Try to find pgdata if not set correctly (via SQL)

.PP
\fB\-\-recipient\fP="pgglaskugel"
    The recipient for PGP encryption (key identifier)

.PP
\fB\-\-s3\_access\_key\fP="TUMO1VCSJF7R2LC39A24"
    access\_key

.PP
\fB\-\-s3\_bucket\_backup\fP="pgglaskugel\-basebackup"
    Bucket name for base backups

.PP
\fB\-\-s3\_bucket\_wal\fP="pgglaskugel\-wal"
    Bucket name for WAL files

.PP
\fB\-\-s3\_endpoint\fP="127.0.0.1:9000"
    S3 endpoint

.PP
\fB\-\-s3\_location\fP="us\-east\-1"
    S3 datacenter location

.PP
\fB\-\-s3\_protocol\_version\fP=\-1
    Version of the S3 protocol version (2,4,\-1=auto)

.PP
\fB\-\-s3\_secret\_key\fP="yOzp7WVWOs9mFeqATXmcQQ5crv4IQtQUv1ArzdYC"
    secret\_key

.PP
\fB\-\-s3\_ssl\fP[=true]
    If SSL (TLS) should be used for S3


.SH SEE ALSO
.PP
\fBpgglaskugel(1)\fP
